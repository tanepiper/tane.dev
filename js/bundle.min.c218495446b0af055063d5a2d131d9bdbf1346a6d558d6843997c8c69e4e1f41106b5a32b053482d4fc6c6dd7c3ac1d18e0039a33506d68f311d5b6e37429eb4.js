const{Observable,fromEvent}=rxjs,{tap,map}=rxjs.operators,THEME_COOKIE_NAME="tane-dev-theme";function setCookie(e,t,n=180){const s=new Date;s.setTime(s.getTime()+n*24*60*60*1e3),document.cookie=`${e}=${t};expires=${s.toUTCString()};path=/`}function getCookie(e){const t=`${e}=`,s=decodeURIComponent(document.cookie),n=s.split(";");for(let s=0;s<n.length;s++){let e=n[s];for(;e.charAt(0)===" ";)e=e.substring(1);if(e.indexOf(t)===0)return e.substring(t.length,e.length)}return""}function withUserPrefers(e,t,n){return new Observable(s=>{window.matchMedia||s.error(new Error("No windows Media Match available"));function i(e){s.next(e.matches)}const o=window.matchMedia(`(prefers-${e}: ${t})`);return n&&(n.onabort=()=>{o.removeEventListener("change",i),!s.closed&&s.complete()}),o.addEventListener("change",i),s.next(o.matches),()=>{o.removeEventListener("change",i),!s.closed&&s.complete()}})}const buttonTheme=document.querySelectorAll(".btn-theme"),bodyElement=document.body;fromEvent(buttonTheme,"click").pipe(tap(e=>{bodyElement.className=e.target.dataset.theme,setCookie(THEME_COOKIE_NAME,e.target.dataset.theme)}),tap(e=>{buttonTheme.forEach(e=>e.classList.remove("selected")),e.currentTarget.classList.add("selected")})).subscribe(),withUserPrefers("color-scheme","dark").pipe(map(e=>getCookie(THEME_COOKIE_NAME)?getCookie(THEME_COOKIE_NAME):e?"dark":"light"),tap(e=>{bodyElement.className=e})).subscribe()